<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Birthday Surprise ğŸ’–</title>
<style>
body {
  margin: 0;
  height: 100vh;
  font-family: 'Arial', sans-serif;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  background: linear-gradient(135deg, #ff9ad9, #ffc0cb, #ffb6c1);
}

/* OVERLAYS */
.overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(255,182,193,0.95);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  text-align: center;
  z-index: 50;
}

/* ACCESS FORM */
#access-overlay { display: flex; }
input { padding: 12px; margin: 8px; font-size: 16px; border-radius: 12px; border: none; width: 220px; text-align: center; }
button { padding: 12px 30px; font-size: 16px; border-radius: 25px; border: none; background: #ff69b4; color: white; cursor: pointer; font-weight: bold; margin: 8px; }
button:hover { background: #ff85c1; }
#error-msg { display: none; margin-top: 10px; }

/* QUIZ */
#quiz-overlay p, #quiz-overlay h2 { margin: 10px 0; }
.quiz-btn { display: block; width: 240px; margin: 8px auto; }
#quiz-error { display: none; margin-top: 10px; }

/* UNLOCKING SURPRISE */
#quiz-success { display: none; background: radial-gradient(circle, #ff85c1, #ff69b4); z-index: 60; }
#success-box { background: rgba(255,255,255,0.15); padding: 50px 70px; border-radius: 30px; animation: popIn 0.8s ease forwards; box-shadow: 0 20px 40px rgba(0,0,0,0.25); }
@keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 70% { transform: scale(1.05); opacity: 1; } 100% { transform: scale(1); } }

/* MAIN CARD */
.card {
  display: none;
  background: rgba(255, 182, 193, 0.9);
  padding: 50px;
  border-radius: 25px;
  text-align: center;
  max-width: 700px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  flex-direction: column;
  align-items: center;
  z-index: 10;
}

h1 { font-size: 2.5em; margin-bottom: 15px; color: #fff; text-shadow: 1px 1px 5px #ffb6c1; }
p { font-size: 1.3em; margin: 8px 0; color: #fff; text-shadow: 1px 1px 4px #ff9ad9; }
.highlight { font-size: 1.7em; font-weight: bold; margin: 15px 0; color: #fff; text-shadow: 2px 2px 8px #ff69b4; }

.buttons { margin-top: 30px; position: relative; height: 80px; }
button.main-btn {
  font-size: 1.2em;
  padding: 12px 28px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  position: absolute;
  transition: transform 0.05s linear, background 0.3s;
}

#yes {
  background: #ff69b4;
  color: #fff;
  left: 35%;
  top: 0;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  z-index: 1;
}
#yes:hover { background: #ff85c1; }

#no {
  background: #ff1493;
  color: white;
  left: 35%; /* start over YES */
  top: 0;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  z-index: 2;
}
#no:hover { background: #ff33b2; }

#result { margin-top: 30px; font-size: 1.6em; display: none; color: #fff; text-shadow: 2px 2px 8px #ff69b4; }
.photo-gallery { display: none; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 30px; }
.photo-gallery img { width: 150px; height: 150px; object-fit: cover; border-radius: 20px; border: 3px solid #fff; box-shadow: 0 8px 20px rgba(255,182,193,0.6); transition: transform 0.3s ease; cursor: pointer; }
.photo-gallery img:hover { transform: scale(1.1); }

canvas#confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 20; }
.heart { position: fixed; font-size: 25px; animation: floatUp 4s linear forwards; pointer-events: none; z-index: 15; opacity: 0.9; }
@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }

</style>
</head>
<body>

<!-- ACCESS -->
<div id="access-overlay" class="overlay">
  <h2>ğŸ’Œ Secret Surprise ğŸ’Œ</h2>
  <p>Enter your name and our special date</p>
  <input id="name-input" placeholder="Your full name">
  <input id="date-input" type="date">
  <button id="submit-access">Enter</button>
  <p id="error-msg">âŒ Wrong info, try again</p>
</div>

<!-- QUIZ -->
<div id="quiz-overlay" class="overlay">
  <h2>ğŸ’– Little Love Quiz ğŸ’–</h2>
  <p>â³ Time left: <span id="time">00:20</span></p>
  <p id="question"></p>
  <div id="quiz-options"></div>
  <p id="quiz-error">âŒ Nope, think again ğŸ˜</p>
</div>

<!-- UNLOCKING SURPRISE -->
<div id="quiz-success" class="overlay">
  <div id="success-box">
    <h1> Quiz Passed!ğŸ‘ğŸ‘</h1>
    <p>You really know us ğŸ˜ŒğŸ’–</p>
    <p style="opacity:.8">Unlocking your surpriseâ€¦</p>
  </div>
</div>

<!-- MAIN CARD -->
<div class="card">
  <h1>ğŸ‰ Congratulations! ğŸ‰</h1>
  <p>Youâ€™ve officially won a trip to</p>
  <div class="highlight">ğŸ‡®ğŸ‡¹ MILAN ğŸ‡®ğŸ‡¹</div>
  <p>Start packing your stuff</p>
  <p class="highlight">Weâ€™re leaving tomorrow âœˆï¸</p>

  <p style="margin-top: 30px;">Are you coming with me? ğŸ‘€ </p>

  <div class="buttons">
    <button id="yes" class="main-btn">YES ğŸ’–</button>
    <button id="no" class="main-btn">NO ğŸ™„</button>
  </div>

  <div id="result">ğŸ’ƒğŸ§³ Every trip with you is crazy, like the girl in the photo below! â¤ï¸</div>
  <div id="photo-gallery" class="photo-gallery">
    <img src="photo1.jpg" alt="Sweet memory 1">
  </div>
</div>

<audio id="song" src="birthday-song.mp3"></audio>
<canvas id="confetti-canvas"></canvas>

<script>
// ===== ELEMENTS =====
const nameInput=document.getElementById("name-input");
const dateInput=document.getElementById("date-input");
const submitAccess=document.getElementById("submit-access");
const accessOverlay=document.getElementById("access-overlay");
const errorMsg=document.getElementById("error-msg");

const quizOverlay=document.getElementById("quiz-overlay");
const quizError=document.getElementById("quiz-error");
const questionEl=document.getElementById("question");
const quizOptionsEl=document.getElementById("quiz-options");

const quizSuccess=document.getElementById("quiz-success");
const yesBtn=document.getElementById("yes");
const noBtn=document.getElementById("no");
const result=document.getElementById("result");
const photoGallery=document.getElementById("photo-gallery");
const song=document.getElementById("song");

const confettiCanvas=document.getElementById("confetti-canvas");
const ctx=confettiCanvas.getContext("2d");
let confettiParticles=[];
function resizeCanvas(){ confettiCanvas.width=window.innerWidth; confettiCanvas.height=window.innerHeight; }
window.addEventListener('resize',resizeCanvas); resizeCanvas();

// ===== LOGIN =====
const correctName="Julie Marie";
const correctDate="2024-08-22";

submitAccess.addEventListener("click",(e)=>{
  e.preventDefault();
  const enteredName=nameInput.value.trim();
  const enteredDate=dateInput.value;
  if(enteredName===correctName && enteredDate===correctDate){
    accessOverlay.style.display="none";
    quizOverlay.style.display="flex";
    loadQuestion(); startTimer();
  }else{ errorMsg.style.display="block"; }
});

// ===== QUIZ =====
const quiz=[
  {q:"Which country did we visit most recently together?", o:["Italy ğŸ‡®ğŸ‡¹","Austria ğŸ‡¦ğŸ‡¹","France ğŸ‡«ğŸ‡·","Spain ğŸ‡ªğŸ‡¸"], a:"Austria ğŸ‡¦ğŸ‡¹"},
  {q:"What color was your dress at the last restaurant we went to in Albania?", o:["Red â¤ï¸","Black ğŸ–¤","Blue ğŸ’™","White ğŸ¤"], a:"Blue ğŸ’™"}
];
let i=0;
function loadQuestion(){ quizError.style.display="none"; questionEl.innerText=quiz[i].q; quizOptionsEl.innerHTML=""; quiz[i].o.forEach(opt=>{ const b=document.createElement("button"); b.className="quiz-btn"; b.innerText=opt; b.onclick=()=>check(opt); quizOptionsEl.appendChild(b); }); }
function check(sel){ if(sel===quiz[i].a){ i++; if(i<quiz.length) loadQuestion(); else finishQuiz(); } else{ quizError.style.display="block"; } }

// ===== TIMER =====
let time=20; let timer;
function startTimer(){ timer=setInterval(()=>{ time--; document.getElementById("time").innerText=`${String(Math.floor(time/60)).padStart(2,"0")}:${String(time%60).padStart(2,"0")}`; if(time<=0){ alert("â° Timeâ€™s up! Try again ğŸ˜˜"); location.reload(); } },1000); }

// ===== QUIZ SUCCESS =====
function finishQuiz(){
  clearInterval(timer);
  quizOverlay.style.display="none";
  quizSuccess.style.display="flex";

  const sparkle=setInterval(()=>{
    const h=document.createElement("div"); h.className="heart"; h.innerText="âœ¨"; h.style.left=Math.random()*window.innerWidth+"px";
    document.body.appendChild(h); setTimeout(()=>h.remove(),4000);
  },300);

  setTimeout(()=>{
    clearInterval(sparkle);
    quizSuccess.style.display="none";
    document.querySelector(".card").style.display="flex";

    // Set NO initial position **on top of YES**
    noX = yesBtn.offsetLeft;
    noY = yesBtn.offsetTop;
    noBtn.style.left = noX + "px";
    noBtn.style.top = noY + "px";
  },2200);
}

// ===== NO BUTTON FOLLOW =====
let noX = 0, noY = 0;
document.addEventListener("mousemove", (e) => {
  const mouseX = e.clientX;
  const mouseY = e.clientY;
  const btnRect = noBtn.getBoundingClientRect();
  const btnCenterX = btnRect.left + btnRect.width/2;
  const btnCenterY = btnRect.top + btnRect.height/2;
  const distanceX = btnCenterX - mouseX;
  const distanceY = btnCenterY - mouseY;
  const distance = Math.sqrt(distanceX**2 + distanceY**2);
  const dangerZone = 120;
  if(distance < dangerZone){
    const moveStrength = (dangerZone - distance)/dangerZone*25;
    noX += (distanceX/distance)*moveStrength;
    noY += (distanceY/distance)*moveStrength;
    const maxX = window.innerWidth - btnRect.width;
    const maxY = window.innerHeight - btnRect.height;
    noX = Math.max(0, Math.min(noX, maxX));
    noY = Math.max(0, Math.min(noY, maxY));
    noBtn.style.left = noX + "px";
    noBtn.style.top = noY + "px";
  }
});

// ===== YES CLICK =====
yesBtn.addEventListener("click", () => {
  result.style.display="block";
  photoGallery.style.display="flex";
  yesBtn.style.display="none";
  noBtn.style.display="none";
  song.play();

  setInterval(createHeart,500);
  startConfetti();
});

// ===== HEARTS =====
function createHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*window.innerWidth+"px";
  h.style.fontSize=(20+Math.random()*20)+"px";
  h.style.color=`hsl(${Math.random()*360},100%,70%)`;
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),4000);
}

// ===== CONFETTI =====
function createConfetti(){
  for(let i=0;i<150;i++){
    confettiParticles.push({
      x:Math.random()*confettiCanvas.width,
      y:Math.random()*confettiCanvas.height - confettiCanvas.height,
      r:Math.random()*6+4,
      d:Math.random()*150,
      color:`hsl(${Math.random()*360},100%,60%)`,
      tilt:Math.random()*10-10
    });
  }
}
let angle=0;
function drawConfetti(){
  ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  confettiParticles.forEach(p=>{
    ctx.beginPath();
    ctx.lineWidth=p.r/2;
    ctx.strokeStyle=p.color;
    ctx.moveTo(p.x+p.tilt+p.r/4,p.y);
    ctx.lineTo(p.x+p.tilt,p.y+p.r);
    ctx.stroke();
  });
  updateConfetti();
}
function updateConfetti(){
  angle+=0.01;
  confettiParticles.forEach(p=>{
    p.y+=(Math.cos(angle+p.d)+3+p.r/2)/2;
    p.x+=Math.sin(angle);
    if(p.y>confettiCanvas.height)p.y=-10;
    if(p.x>confettiCanvas.width)p.x=0;
    if(p.x<0)p.x=confettiCanvas.width;
  });
  requestAnimationFrame(drawConfetti);
}
function startConfetti(){ confettiParticles=[]; createConfetti(); drawConfetti(); }

</script>
</body>
</html>
